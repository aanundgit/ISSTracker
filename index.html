<html>

<head>
	
<script src="https://public.tableau.com/javascripts/api/tableau-2.0.0.min.js" type="text/javascript"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
</head>

<body bgcolor="#000000"; onload=getValue();>
<br>
<center>
<div id="center1"><center><div id="tableauViz1"></div></center></div>
</center>

<script>
function getValue() {
			var res;
            $.ajax({
                type: 'GET',
                dataType: 'jsonp',
                url: 'http://api.open-notify.org/iss-now.json',
                async: false,
                crossDomain: true,
                complete: function (data) {
                    if (data.readyState === 4 && data.status === 200) {
						Lat = data.responseJSON.iss_position.latitude;
						Long = data.responseJSON.iss_position.longitude;
						LatLong(Lat,Long);
                    }
				}
			});
        }
</script> 
 
<script>
var workbooka;
var placeholderDiv = document.getElementById("tableauViz1");
var Url = "https://public.tableau.com/views/Book2_15730894997960/Sheet2?:showVizHome=no";
var options = {
	hideTabs: true,
	hideToolbar: true,
	width: "100%",
	height: "100%",
	onFirstInteractive: function() {
		getValue();
		workbooka = viz.getWorkbook();
	}
};

var viz = new tableauSoftware.Viz(placeholderDiv, Url, options);
window.setInterval("getValue()","3000");

function LatLong(a,b) {
workbooka.changeParameterValueAsync("Lat", [a]);
workbooka.changeParameterValueAsync("Long", [b]);
}

</script>


      

		
</body>
</html>
